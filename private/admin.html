<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ê–¥–º–∏–Ω–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>–ê–¥–º–∏–Ω–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞</h1>
    <a class="admin-access" href="/">–ù–∞ —Å–∞–π—Ç</a>
    <button id="logoutBtn" style="margin-left:20px; padding:6px 12px; cursor:pointer;">–í—ã–π—Ç–∏</button>
  </header>

  <div class="container admin-container">

    <form id="settings-form" class="admin-form">
      <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞–≥–∞–∑–∏–Ω–∞</h2>

      <label>–ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞ (–∑–∞–≥–æ–ª–æ–≤–æ–∫):</label>
      <input type="text" id="site-title" placeholder="NYXXIE_HUB" />

      <label>–¢–µ–∫—Å—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è (RU):</label>
      <input type="text" id="greeting-ru" />

      <label>–¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ "–ö–∞—Ç–∞–ª–æ–≥ –∞–∫–∫–∞—É–Ω—Ç–æ–≤":</label>
      <input type="text" id="btn-catalog-text" />

      <label>–¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ "–£—Å–ª–æ–≤–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞":</label>
      <input type="text" id="btn-terms-text" />

      <label>–¢–µ–∫—Å—Ç –ø–æ–¥ –∫–Ω–æ–ø–∫–æ–π "–ö–∞—Ç–∞–ª–æ–≥ –∞–∫–∫–∞—É–Ω—Ç–æ–≤" (HTML):</label>
      <textarea id="catalog-text-input" rows="4" placeholder="–í–≤–µ–¥–∏—Ç–µ HTML –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞..."></textarea>

      <label>–¢–µ–∫—Å—Ç –ø–æ–¥ –∫–Ω–æ–ø–∫–æ–π "–£—Å–ª–æ–≤–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞" (HTML):</label>
      <textarea id="terms-text-input" rows="4" placeholder="–í–≤–µ–¥–∏—Ç–µ HTML –¥–ª—è —É—Å–ª–æ–≤–∏–π –≤–æ–∑–≤—Ä–∞—Ç–∞..."></textarea>

      <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
    </form>

    <!-- üîê –§–æ—Ä–º–∞ –¥–ª—è —Å–º–µ–Ω—ã –ª–æ–≥–∏–Ω–∞ –∏ –ø–∞—Ä–æ–ª—è -->
    <form id="credentials-form" class="admin-form" style="margin-top: 30px;">
      <h2>–°–º–µ–Ω–∞ –ª–æ–≥–∏–Ω–∞ –∏ –ø–∞—Ä–æ–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>

      <label>–ù–æ–≤—ã–π –ª–æ–≥–∏–Ω:</label>
      <input type="text" id="admin-login" placeholder="–ù–æ–≤—ã–π –ª–æ–≥–∏–Ω" required />

      <label>–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å:</label>
      <input type="password" id="admin-password" placeholder="–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å" required />

      <button type="submit">–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</button>
    </form>

    <hr />

    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏</h2>
    <form id="post-form" class="admin-form">
      <input type="hidden" id="post-id" />

      <label>–ù–∞–∑–≤–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞:</label>
      <input type="text" id="post-title" required />

      <label>–¶–µ–Ω–∞:</label>
      <input type="text" id="post-price" required />

      <label>–û–ø–∏—Å–∞–Ω–∏–µ:</label>
      <textarea id="post-description" rows="3" required></textarea>

      <label>Telegram –Ω–∏–∫ (—Å @):</label>
      <input type="text" id="post-link" required />

      <label>–§–æ—Ç–æ –∞–∫–∫–∞—É–Ω—Ç–∞:</label>
      <input type="file" id="post-image" accept="image/*" />
      <div id="post-image-preview" style="margin-top:10px; max-width: 250px;"></div>

      <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
      <button type="button" id="post-clear">–û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É</button>
    </form>

    <div id="post-list"></div>
  </div>

  <script>
    document.getElementById('logoutBtn').onclick = () => {
      fetch('/logout', { method: 'POST' })
        .then(res => res.json())
        .then(data => {
          if (data.success) {
            window.location.href = '/login.html';
          } else {
            alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ");
          }
        })
        .catch(() => alert("–û—à–∏–±–∫–∞ —Å–µ—Ç–∏"));
    };
  </script>

  <script src="admin.js"></script>
</body>
</html>
